a remote fault indicating unit for an electronic system , such as a vehicle adaptive braking system , includes a series of visual indicators , such as light emitting diodes , on one surface of the housing and a computer serial port connector for use when troubleshooting is done with a pc equipped with the appropriate software . each of the indicators is activated in response to a predetermined malfunction sensed in the system , such as a defective speed sensor , defective modulator , or a defect in the electronic circuitry . the indicators are reset with a switch when the system is repaired . when the reset switch is activated , all of the indicators flash on and are then turned off . the reset switch can also be activated for a longer period of time changing the ecu configuration . a non - volatile ram stores , in the abs ecu , suspected problems sensed by the antilock system when the system is powered down , so that all malfunctions are again indicated immediately when the abs is powered up .
referring now to the drawings and to fig1 in particular there is shown a truck antilock diagnostic system 10 using a diagnostic communications interface unit 12 according to the present invention . an antilock electronic control unit ( ecu ) 14 is integrally mounted to a truck chassis on which the abs and atc is used . ecu 14 communicates with the dci 12 along a serial bus 16 . the serial bus 16 has a j1587 vehicle diagnostic connector to which a cable 20 from the dci is connected . the dci 12 includes a computer serial port connector 13 for connecting to a pc 18 . the dci has twelve leds . ten of the leds provide a diagnostic check of the abs / atc and the other two leds are used to indicate that the dci has a power source and that a communications link is established . the ecu 14 which comprises a part of the larger electronic diagnostic system 10 is housed within an enclosure which is mounted on the truck chassis . the ecu 14 further includes ports for connection to vehicle speed sensors and adaptive braking pressure modulators . the speed sensors are normally wheel speed sensors mounted at the vehicle wheels . such sensors are conventional , and provide a pulsed output which is transmitted to the ecu 14 , the frequency of the pulses being proportional to wheel velocity . the ecu 14 processes the signals received from the speed sensors and generates output signals which control one or more brake pressure modulators . the brake pressure modulators are know in the art and are also conventional . the brake pressure modulators are adapted to decrease and thereafter increase braking pressure in response to impending wheel lockup conditions detected by the ecu 14 in response to the signals generated by the speed sensors . ecu 14 also includes diagnostics which check the ecu 14 , the modulators , wheel speed sensors , system voltage and optional traction control components and the speed sensors for faults . the ecu 14 logs these faults and broadcasts the fault status to the dci 12 unit via the j1587 serial diagnostic link . in response to such faults , the dci microcontroller 72 activates one or more of the leds , which are provided on the dci 12 to indicate faults in the speed sensors , the modulators , or the ecu microprocessor 14 . one or more discrete leds is provided for each of the possible faults detected , so that the mechanic servicing the vehicle can immediately tell , by examining the status of the leds on dci 12 which of the components of the system is malfunctioning . since many of the malfunctions sensed by the aforementioned diagnostics are of a transient or temporary nature , and which are eliminated when the system powers down upon vehicle shutoff , a non - volatile random access memory in the ecu 14 is provided to store the faults detected by the aforementioned diagnostics , so that upon powerup when the vehicle is started the same leds are again activated as were activated immediately before shut down and are transmitted to the dci 12 unit . a reset switch 15 , as shown in fig2 on the dci 12 is connected to reset the light emitting diodes when the vehicle has been serviced and the faults no longer exist . referring now to fig2 and 4 there is shown more detailed views of the dci 12 . the dci 12 is an electronic , diagnostic tool for locating abs and atc faults . the dci 12 has twelve lights 50 to 61 and a reset switch 15 . the row of ten lights 50 to 59 is similar to the diagnostic led display found on some prior art bendix antilock controllers . light 60 indicates power to the dci 12 and light 61 indicates that communication with the vehicle antilock diagnostics is established . the first five lights 50 to 54 indicate the position of the suspected issue in the abs . the next four lights 55 to 58 indicate an issue with a suspected component or its wiring . light 59 indicates that there is the correct voltage at the abs ecu . the dci 12 can be used either by itself or with alliedsignal truck brake systems company &# 39 ; s acom software which is compatible with microsoft &# 39 ; s windows software . the dci 12 can also be used with other compatible diagnostic software . when used alone the dci 12 is capable of locating individual antilock and traction control faults using the lights 50 to 59 that indicate the faulty device or its wiring and the location on the vehicle . when used in conjunction with a personal computer with the acom software installed , the dci becomes a communications arbitrator between the vehicle &# 39 ; s numerous onboard controllers and the personal computer . the dci 12 includes a computer serial port connector 13 for connecting to a pc . in this case all testing and diagnostics are performed by the personal computer and the acom software . in order to use the dci 12 , the vehicle must be equipped with a j1587 diagnostic link connector 17 . this connector is generally located on the drivers side , in a lower portion of the dash or under the dash panel . to use the dci 12 by itself the following procedure should be used for troubleshooting : 1 . park the vehicle on a level surface , apply the parking brake and turn off the ignition . 2 . locate the vehicle diagnostic connector 17 and connect the dci cable 20 to the vehicle &# 39 ; s diagnostic connector 17 . 3 . turn the ignition on and note that the ten diagnostic lights 50 to 59 flash on and off as the system 10 goes through a self test . 4 . the dci lamps 50 to 61 that remain on at the conclusion of the self test indicate the condition of the antilock brake system and the connection between the dci 12 and the antilock controller 14 . for detailed instructions on the use of the diagnostic lamps on the dci 12 a technician can consult the service data sheets for the antilock controller being tested or the vehicle maintenance manual for troubleshooting information . the procedure for using the dci 12 with the acom software installed on a pc 18 are as follows : 1 . park the vehicle on a level surface , apply the parking brake and turn off the ignition . 2 . locate the vehicle diagnostic connector 17 and connect the dci cable 20 to the vehicle &# 39 ; s diagnostic connector 17 . 3 . connect the male end of a serial cable 20 to the dci serial port 13 . 4 . with the pc 18 turned off , connect the other end of the serial cable to an unused serial port of the pc 18 . 5 . turn the ignition on and note that the ten diagnostic lights 50 to 59 flash on and off as the system 10 goes through a self test . 6 . turn the computer 18 on then open the acom software . testing and troubleshooting of the abs is performed by the pc 18 and the acom software . referring now to fig5 there is shown a block diagram showing the functional relationship of the various dci 12 subsystems and components . in fig6 there is shown a detailed electrical schematic of the dci 12 with portions of the schematic marked to correspond to the functional blocks identified in fig5 . power for the dci 12 is from the vehicle battery 11 . the vehicle battery 11 supplies + 12 volt power , including a ground , through cable 20 to a + 5 volt voltage regulator 74 . voltage regulator 74 provides a constant , smooth + 5 volt output for the various components of dci 12 . the output of regulator 74 turns on led 60 which provides a visual indication that there is power to dci 12 . the connection from battery 11 to voltage regulator 74 is through the j1587 connector 17 . the vehicle abs ecu 14 is also connected to the dci 12 via the j1587 diagnostic link through connector 17 . the abs ecu 14 communications information to a driver / receiver 82 in the dci 12 via the j1587 link and the dci connector 17 . driver / receiver 82 receives the messages from the ecu 14 and conditions the signals so they can be understood and processed by a dci 12 microcontroller 72 . driver / receiver 82 also conditions the information signals which are transmitted from the microcontroller 72 to the abs ecu 14 via the j1587 link . the driver / receiver 82 will generate and send an interrupt signal to microcontroller 72 when there is a message from the ecu 14 . microcontroller will react to the interrupt signal to read the information from driver / receiver 82 and communicate with the ecu 14 . the microcontroller 72 receives the signals from driver / receiver 82 which are carried to driver / receiver 82 from the j1587 vehicle diagnostic bus . from the signal header , the microcontroller 72 recognizes and processes the abs diagnostic communications . if there is an abs fault the microcontroller 72 through an led driver 76 activates particular leds 50 to 59 on the led display 62 to identify the specific abs fault . the abs fault is displayed as a message on the leds 50 to 59 as described above . the led driver 76 supplies drive current to turn on the appropriate leds which indicate the fault . when a pc 18 is used with the dci 12 it is connected to a serial port connector 13 . information to or from the pc 18 is not directly compatible with the microcontroller 72 . a driver / receiver 80 and a uart 78 are disposed in the connection between the microcontroller 72 and the pc 18 . driver / receiver 80 converts information from the pc 18 to a digital recognizable serial format . the uart 78 reads the serial information which is stored in a register and converts the serial information to a parallel format signal which is readable and can be processed by the microcontroller 72 . the driver / receiver 80 and the uart 78 also convert the information signals from microcontroller 72 to a format which is acceptable to the pc 18 . the uart 78 will generate and send an interrupt signal to microcontroller 72 when there is a message from the pc 18 . the microcontroller 72 will react to the interrupt signal to read the information from uart 78 and communicate with the pc 18 . based on the information received the microcontroller can act to send messages on the j1587 bus , turn on some of the leds or depending on the message received , do nothing . the dci 12 can also take information from the j1587 bus and send it to the pc 18 to display . the uart 78 will convert the dci microprocessor 72 information from a parallel form to a serial form and the driver / receiver 80 will condition the signals so they are acceptable to the pc 18 . when the pc 18 is connected the led display 62 continues to function to indicate abs and atc faults . a fault reset switch 15 is used to send a clear message to the ecu 14 when an abs fault is corrected . a momentary activation of switch 15 will turn off all of the leds 50 to 59 by clearing the current fault . if the abs fault has been corrected the leds 50 to 59 will remain off . if an abs fault is still present selected leds will come on to indicate the specific abs faults . if the reset switch 15 is held down for an extended period , greater than 15 seconds , the dci 12 will request the ecu 14 to perform a configuration event . this event is of self - configuration allows the ecu 14 to determine the number of sensor and traction control components connected to the system .
